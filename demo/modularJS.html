<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,initial-scale=1.0,user-scalable=yes,maximum-scale=1.0">
  <title>ModulerJS</title>
  <script type="text/javascript" src="../src/Moduler.js"></script>
</head>
<body>
  <div>Test</div>
  <script>

  function ElementCollectionClass(elements) {
   var self = this;

  }

  defaultPrototype = {
   constructor: ElementCollectionClass,
   push: Array.prototype.push,
   indexOf: Array.prototype.indexOf,
   forEach: Array.prototype.forEach,
   some: Array.prototype.some,
   length: 0,

   // Add ElementCollection function here, assume chainable
   // Usage: Moduler(selector).function([...args]);

   /**
    * [description]
    * @param  {Function} callback [description]
    * @return {[type]}            [description]
    */
   each: function(callback) {
     fn.each(this, callback);
     return this;
   },

   /**
    * [description]
    * @param  {[type]} css   [description]
    * @param  {[type]} value [description]
    * @return {[type]}       [description]
    */
   css: function(css, value) {
     var elem,
         styleName,
         owner,
         self = this,
         cssObj = {};

     if (fn.isPlainObject(css)) {
       // If the css is An array of CSS properties, iterate and execute one by one
       fn.each(css, function(style, value) {
         self.css(style, value);
       });
     } else if (fn.isString(css)) {
       // Cover to camcel case
       styleName = fn.camelCase(css);

       // If the value is defined
       if (fn.isDefined(value)) {
         console.log(this);
         fn.each(this, function(i) {
           if (fn.isDefined(this.style[styleName])) {
             this.style[styleName] = (fn.isCallable(value)) ? value.call(this, i, this.style[styleName]) : value;
           }
         });
       } else {
         if (this.length > 0) {
           elem = this[0];
           owner = fn.owner(elem).document;

           if (owner.defaultView && owner.defaultView.getComputedStyle) {
             return owner.defaultView.getComputedStyle(elem, '').getPropertyValue(css);
           } else if (elem.currentStyle) {
             return elem.currentStyle[styleName];
           }

           return elem.style[styleName];
         }
         return null;
       }
     }
     return this;
   }
  };

  ElementCollectionClass.prototype = defaultPrototype;

  console.log(new ElementCollectionClass());

  Moduler('dev').css('background-color', '#000')
  </script>
</body>
</html>
